---
title: 反向代理
mathjax: true
categories:
  - Nginx
tags:
  - Nginx
abbrlink: 26b440f2
date: 2021-06-15 13:31:35
---


#### 简单反向代理

把本机80端口的请求转发到其他的服务器

```
http {
    include       mime.types;
    default_type  application/octet-stream;

    server {
        listen       80;
        server_name  xxx.xxx.xxx.xxx;

        #charset koi8-r;

        #access_log  logs/host.access.log  main;

        location / {
            root   xxx.xxx.xxx.xxx:port;
            index  index.html index.htm;
        }

    }
}
```

#### 通过正则匹配路径转发

根据路径中不同字段转，把80端口的请求，转发到不同的服务器

```
http {
    include       mime.types;
    default_type  application/octet-stream;

    server {
        listen       80;
        server_name  xxx.xxx.xxx.xxx;

        location ~ /api/ { 
            proxy_pass   xxx.xxx.xxx.xxx:port;
        }
        location ~ /server/ {
            proxy_pass   xxx.xxx.xxx.xxx:port;
        }

    }
}
```